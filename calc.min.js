const pagesNumberElement=document.querySelector(".pages-number");let lastNumber;function updateNumber(){let e=parseInt(pagesNumberElement.textContent);e!==lastNumber&&(lastNumber=e,console.log("Змінено число на:",lastNumber))}const observer=new MutationObserver(updateNumber);observer.observe(pagesNumberElement,{characterData:!0,subtree:!0}),updateNumber();const zvanieVal=document.getElementById("Your-rank"),strVal=document.getElementById("Your-structure"),pensiaVal=document.getElementById("The-size-of-the-pension"),civilyearsVal=document.getElementById("civilyears"),waryearsVal=document.getElementById("waryears"),dovidkaVal=document.getElementById("field-25"),pensTypeVal=document.getElementById("typeofpension");let zvanieValue,strValue,pensTypeValue,pensiaValue,civilyearsValue,waryearsValue,loan,dovidkaValue,calculatePension;const updateLoan=(e,$)=>{console.log(e,$);let n={"Збройні сили України":{Солдат:9870,"Старший солдат":1e4,"Молодший сержант":11e3,Сержант:12e3,"Старший сержант":13668,"Молодший лейтенант":13400,Лейтенант:13450,"Старший лейтенант":13500,Прапорщик:13658,"Старший прапорщик":14600,Капітан:15800,Майор:17983,Підполковник:19750,Полковник:20233,"Бригадний генерал":25e3,"Генерал-майор":3e4,"Генерал-лейтенант":35220,"Генерал-полковник":43300,"Генерал армії":5e4},"Державна служба надзвичайних ситуацій (МНС)":{Солдат:9370,"Старший солдат":9500,"Молодший сержант":10500,Сержант:11500,"Старший сержант":13168,"Молодший лейтенант":12900,Лейтенант:12950,"Старший лейтенант":13500,Прапорщик:14e3,"Старший прапорщик":15370,Капітан:16605,Майор:18150,Підполковник:19752,Полковник:20136,"Бригадний генерал":25e3,"Генерал-майор":3e4,"Генерал-лейтенант":35220,"Генерал-полковник":43300,"Генерал армії":5e4},"Державна прикордонна служба":{Солдат:10370,"Старший солдат":10500,"Молодший сержант":11500,Сержант:12500,"Старший сержант":14168,"Молодший лейтенант":13900,Лейтенант:13950,"Старший лейтенант":14500,Прапорщик:15e3,"Старший прапорщик":16370,Капітан:17605,Майор:19150,Підполковник:25080,Полковник:35930,"Бригадний генерал":4e4,"Генерал-майор":43e3,"Генерал-лейтенант":45e3,"Генерал-полковник":5e4,"Генерал армії":55e3},"Міліція (МВС)":{Солдат:9500,"Старший солдат":9700,"Молодший сержант":10200,Сержант:10600,"Старший сержант":11e3,"Молодший лейтенант":12300,Лейтенант:13e3,"Старший лейтенант":13300,Прапорщик:13075,"Старший прапорщик":13800,Капітан:14360,Майор:17643,Підполковник:17733,Полковник:27951,"Бригадний генерал":3e4,"Генерал-майор":33e3,"Генерал-лейтенант":35220,"Генерал-полковник":43300,"Генерал армії":5e4},"Державна пенітенціарна служба України":{Солдат:5e3,"Старший солдат":5300,"Молодший сержант":5800,Сержант:6e3,"Старший сержант":6200,"Молодший лейтенант":6300,Лейтенант:7e3,"Старший лейтенант":7500,Прапорщик:8280,"Старший прапорщик":8900,Капітан:11e3,Майор:12562,Підполковник:15470,Полковник:2e4,"Бригадний генерал":25e3,"Генерал-майор":3e4,"Генерал-лейтенант":35e3,"Генерал-полковник":4e4,"Генерал армії":45e3},"Служба безпеки України":{Солдат:9870,"Старший солдат":1e4,"Молодший сержант":11e3,Сержант:12e3,"Старший сержант":13668,"Молодший лейтенант":13400,Лейтенант:13450,"Старший лейтенант":14e3,Прапорщик:14570,"Старший прапорщик":15230,Капітан:16e3,Майор:16780,Підполковник:24560,Полковник:35430,"Бригадний генерал":4e4,"Генерал-майор":43e3,"Генерал-лейтенант":45e3,"Генерал-полковник":5e4,"Генерал армії":55e3},"Національна поліція":{Солдат:9870,"Старший солдат":1e4,"Молодший сержант":11e3,Сержант:12e3,"Старший сержант":13668,"Молодший лейтенант":13400,Лейтенант:13450,"Старший лейтенант":14e3,Прапорщик:14500,"Старший прапорщик":15870,Капітан:17105,Майор:18650,Підполковник:24580,Полковник:35430,"Бригадний генерал":4e4,"Генерал-майор":43e3,"Генерал-лейтенант":45e3,"Генерал-полковник":5e4,"Генерал армії":55e3},"Національна гвардія":{Солдат:9870,"Старший солдат":1e4,"Молодший сержант":11e3,Сержант:12e3,"Старший сержант":13668,"Молодший лейтенант":13400,Лейтенант:13450,"Старший лейтенант":13500,Прапорщик:13580,"Старший прапорщик":14e3,Капітан:14360,Майор:17643,Підполковник:17733,Полковник:27951,"Бригадний генерал":3e4,"Генерал-майор":33e3,"Генерал-лейтенант":35220,"Генерал-полковник":43300,"Генерал армії":5e4},"Державна фіскальна служба":{Солдат:4e3,"Старший солдат":4300,"Молодший сержант":4800,Сержант:5e3,"Старший сержант":5200,"Молодший лейтенант":5300,Лейтенант:6e3,"Старший лейтенант":6500,Прапорщик:7280,"Старший прапорщик":7900,Капітан:1e4,Майор:11562,Підполковник:14470,Полковник:19e3,"Бригадний генерал":24e3,"Генерал-майор":29e3,"Генерал-лейтенант":34e3,"Генерал-полковник":39e3,"Генерал армії":44e3},"Державна спеціальна служба транспорту":{Солдат:9500,"Старший солдат":9700,"Молодший сержант":10200,Сержант:10600,"Старший сержант":11e3,"Молодший лейтенант":12300,Лейтенант:13e3,"Старший лейтенант":13300,Прапорщик:13336,"Старший прапорщик":14600,Капітан:15800,Майор:17983,Підполковник:18573,Полковник:28831,"Бригадний генерал":3e4,"Генерал-майор":33e3,"Генерал-лейтенант":35220,"Генерал-полковник":43300,"Генерал армії":5e4},"Служба зовнішньої розвідки України":{Солдат:9870,"Старший солдат":1e4,"Молодший сержант":11e3,Сержант:12e3,"Старший сержант":13668,"Молодший лейтенант":13400,Лейтенант:13450,"Старший лейтенант":13500,Прапорщик:13658,"Старший прапорщик":15800,Капітан:17983,Майор:19801,Підполковник:22028,Полковник:22940,"Бригадний генерал":25e3,"Генерал-майор":3e4,"Генерал-лейтенант":35220,"Генерал-полковник":43300,"Генерал армії":5e4},"Космічне агентство":{Солдат:9870,"Старший солдат":1e4,"Молодший сержант":11e3,Сержант:12e3,"Старший сержант":13668,"Молодший лейтенант":13400,Лейтенант:13450,"Старший лейтенант":13500,Прапорщик:13658,"Старший прапорщик":14600,Капітан:15800,Майор:17983,Підполковник:19750,Полковник:20233,"Бригадний генерал":25e3,"Генерал-майор":3e4,"Генерал-лейтенант":35220,"Генерал-полковник":43300,"Генерал армії":5e4},"Державна служба охорони":{Солдат:9870,"Старший солдат":1e4,"Молодший сержант":11e3,Сержант:12e3,"Старший сержант":13668,"Молодший лейтенант":13400,Лейтенант:13450,"Старший лейтенант":14e3,Прапорщик:14500,"Старший прапорщик":15870,Капітан:17105,Майор:18650,Підполковник:24580,Полковник:35430,"Бригадний генерал":4e4,"Генерал-майор":43e3,"Генерал-лейтенант":45e3,"Генерал-полковник":5e4,"Генерал армії":55e3}};return n.hasOwnProperty(e)&&n[e].hasOwnProperty($)?(loan=n[e][$],console.log(loan)):loan=0,console.log("loan :",loan),loan};function zvanieUpdate(){let e=zvanieVal.value;e!==zvanieValue&&(zvanieValue=e,console.log("Змінено вибір на:",zvanieValue))}function strUpdate(){let e=strVal.value;e!==strValue&&(strValue=e,console.log("Змінено вибір на:",strValue))}function pensTypeUpdate(){let e=pensTypeVal.value;e!==pensTypeValue&&(pensTypeValue=e,console.log("Змінено вибір на:",pensTypeValue))}function pensUpdate(){let e=pensiaVal.value;e!==pensiaValue&&(pensiaValue=e,console.log("Змінено вибір на:",pensiaValue))}function dovidkaUpdate(){let e=dovidkaVal.value;e!==dovidkaValue&&(dovidkaValue=e,console.log("Змінено вибір на:",dovidkaValue))}function civilUpdate(){let e=parseFloat(civilyearsVal.value);isNaN(e)||e===civilyearsValue||(civilyearsValue=e,console.log("Змінено вибір на:",civilyearsValue))}function warUpdate(){let e=parseFloat(waryearsVal.value);isNaN(e)||e===waryearsValue||(waryearsValue=e,console.log("Змінено вибір на:",waryearsValue))}zvanieVal.addEventListener("change",zvanieUpdate),strVal.addEventListener("change",strUpdate),pensiaVal.addEventListener("change",pensUpdate),civilyearsVal.addEventListener("change",civilUpdate),waryearsVal.addEventListener("change",warUpdate),zvanieUpdate(),strUpdate(),pensUpdate(),civilUpdate(),warUpdate(),dovidkaUpdate(),pensTypeUpdate();let year=null,chernobylec=null,health=null,invalidnist=null,invGroup=null,dovidka=null,pensValue=null,vtrata=null;function initYearSelection(){return document.querySelectorAll('.year-wrap input[type="radio"]').forEach(function(e){e.addEventListener("change",function(){e.checked&&(year=e.getAttribute("id"),console.log(year))})}),year}function initChornSelection(){return document.querySelectorAll('.chornobylec input[type="radio"]').forEach(function(e){e.addEventListener("change",function(){e.checked&&(chernobylec=e.getAttribute("id"),console.log(chernobylec)),chernobylec="firstCategoy"===chernobylec?1:"secondCategoy"===chernobylec?.95:0})}),chernobylec}function initHealthSelection(){return document.querySelectorAll('.health input[type="radio"]').forEach(function(e){e.addEventListener("change",function(){e.checked&&(health=e.getAttribute("id"),console.log(health))})}),health}let invSelection={invalidnist:"",invGroup:"",initInvalidnistSelection:function(){console.log("initInvalidnistSelection called");document.querySelectorAll('.invalidnist input[type="radio"]').forEach(function(e){e.addEventListener("change",function(){e.checked&&(invSelection.invalidnist=e.getAttribute("id"),console.log(invSelection.invalidnist))})})},initInvGroupSelection:function(){console.log("initInvGroupSelection called");document.querySelectorAll('.inv-group input[type="radio"]').forEach(function(e){e.addEventListener("change",function(){e.checked&&(invSelection.invGroup=e.getAttribute("id"),console.log(invSelection.invGroup))})})},updateInvPercent:function(){console.log("updateInvPercent called");let e={army:{"1-3":.7,"2-3":.6,3:.4},war:{"1-3":1,"2-3":.8,3:.6}};if(!e[invSelection.invalidnist]||!e[invSelection.invalidnist][invSelection.invGroup])return console.log("Invalid invalidnist or invGroup"),0;{let $=e[invSelection.invalidnist][invSelection.invGroup];return console.log(invSelection.invalidnist,invSelection.invGroup,$),$}}};function initDovidkaSelection(){return document.querySelectorAll('.dovidka input[type="radio"]').forEach(function(e){e.addEventListener("change",function(){e.checked&&(dovidka=e.getAttribute("id"),console.log(dovidka))})}),dovidka}function initVtrataSelection(){return document.querySelectorAll('.byloss input[type="radio"]').forEach(function(e){e.addEventListener("change",function(){e.checked&&(vtrata=e.getAttribute("id"),console.log(vtrata))})}),vtrata}invSelection.initInvalidnistSelection(),invSelection.initInvGroupSelection();let yearf=initYearSelection(),chornf=initChornSelection(),healthf=initHealthSelection(),vtrataf=initVtrataSelection(),dovidkaf=initDovidkaSelection();function updatePensValue(){zvanieUpdate(),strUpdate(),pensUpdate(),civilUpdate(),warUpdate(),updateNumber(),dovidkaUpdate(),pensTypeUpdate();let e=invSelection.updateInvPercent(),$=civilyearsValue+waryearsValue;console.log($);let n=0;if(console.log(`invPercent: ${e}`),console.log(`Initial pensValue: ${n}`),console.log(`Initial pensValue: ${chernobylec}`),"За вислугою років"===pensTypeValue){console.log(`Тип пенсії: ${pensTypeValue}`);let l=lastNumber-20;l*=3,n=50+l,n/=100,"2011"===year&&n>.8?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.8):"2011-2014"===year&&n>.9?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.9):"2014-2018"===year&&n>.7?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.7):"2018"===year&&n>.7&&(1===chernobylec?(n+=.2,n=Math.min(n,1)):.95===chernobylec?(n+=.2,n=Math.min(n,.95)):n="Міліція (МВС)"===strVal||"Національна поліція"===strVal?Math.min(n,.7):Math.min(n,.7)+.2)}else if("Звільнення у зв'язку зі станом здоров'я"===pensTypeValue){console.log(`Тип пенсії: ${pensTypeValue}`);let t=lastNumber-20;t*=3,n=50+t+5,n/=100,"2011"===year&&n>.8?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.8):"2011-2014"===year&&n>.9?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.9):"2014-2018"===year&&n>.7?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.7):"2018"===year&&n>.7&&(1===chernobylec?(n+=.2,n=Math.min(n,1)):.95===chernobylec?(n+=.2,n=Math.min(n,.95)):n="Міліція (МВС)"===strVal||"Національна поліція"===strVal?Math.min(n,.7):Math.min(n,.7)+.2)}else if("За змішаним стажем"===pensTypeValue){console.log(`Тип пенсії: ${pensTypeValue}`);let a=$-25;a*=1,"yes"===health?(n=50+a+5,n/=100):(n=50+a,n/=100),"2011"===year&&n>.8?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.8):"2011-2014"===year&&n>.9?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.9):"2014-2018"===year&&n>.7?n=1===chernobylec?Math.min(n,1):.95===chernobylec?Math.min(n,.95):Math.min(n,.7):"2018"===year&&n>.7&&(1===chernobylec?(n+=.2,n=Math.min(n,1)):.95===chernobylec?(n+=.2,n=Math.min(n,.95)):n="Міліція (МВС)"===strVal||"Національна поліція"===strVal?Math.min(n,.7):Math.min(n,.7)+.2)}else"По втраті годувальника"===pensTypeValue&&(console.log(`Тип пенсії: ${pensTypeValue}`),"radio-8"===vtrata?n=.7:"radio-10"===vtrata&&(n=.3));return n=Number(n),console.log(`Процент который нам нужен: ${n}`),n}calculatePension=function(){zvanieUpdate(),strUpdate(),pensUpdate(),civilUpdate(),warUpdate(),updateNumber(),dovidkaUpdate(),pensTypeUpdate();let e=updatePensValue(),$=invSelection.updateInvPercent();console.log(`Процент который нам нужен в начале просчета пенсии: ${e}`);let n=updateLoan(strValue,zvanieValue),l=0;return"По інвалідності"===pensTypeValue?(console.log(`invpercent по інвалідності: ${$}, ${dovidka}`),"radio-3"===dovidka?(l=dovidkaValue*$,console.log(`first result for invalidnist pens: ${l}`),"war"===invSelection.invalidnist&&(console.log(`вид інвалідності і результат перед прорахунком додаткового відсотка: ${l}, ${invSelection.invalidnist}`),l+=.25*l,console.log(`вид інвалідності і результат після прорахунку додаткового відсотка: ${l}, ${invSelection.invalidnist}`)),l+=.14*l,console.log(`result додавання 14%: ${l}`),preResult=.197*l,console.log(`pre-result з відбору 19.7%: ${preResult}`),preResult>1500&&(preResult=1500),console.log(`pre-result: ${preResult}`),l=preResult+l,console.log(`остаточний результат з інвалідності по війні: ${l}`)):"radio-2"===dovidka&&(l=n*$,console.log(`війна без довідки: ${l}`),"war"===invSelection.invalidnist&&(console.log(l,invSelection.invalidnist),l+=.25*l,console.log(l,invSelection.invalidnist)),l+=.14*l,console.log(`result: ${l}`),preResult=.197*l,console.log(`pre-result: ${preResult}`),preResult>1500&&(preResult=1500),console.log(`pre-result: ${preResult}`),l=preResult+l)):"За вислугою років"===pensTypeValue?("radio-3"===dovidka?(l=dovidkaValue*e,console.log(`result вислуга: ${l}`)):"radio-2"===dovidka&&(l=n*e,console.log(`вислуга без довідки: ${l}`)),l+=.14*l,console.log(`result: ${l}`),preResult=.197*l,console.log(`pre-result: ${preResult}`),preResult>1500&&(preResult=1500),console.log(`pre-result: ${preResult}`),l=preResult+l):"Звільнення у зв'язку зі станом здоров'я"===pensTypeValue?("radio-3"===dovidka?(console.log(e),l=dovidkaValue*e,console.log(`result здоровя: ${l}`)):"radio-2"===dovidka&&(console.log(e),l=n*e,console.log(`звільнення по здоровя без довідки: ${l}`)),l+=.14*l,console.log(`result: ${l}`),preResult=.197*l,console.log(`pre-result: ${preResult}`),preResult>1500&&(preResult=1500),console.log(`pre-result: ${preResult}`),l=preResult+l):"За змішаним стажем"===pensTypeValue?("radio-3"===dovidka?(console.log(e),l=dovidkaValue*e,console.log(`result стаж: ${l}`)):"radio-2"===dovidka&&(console.log(e),l=n*e,console.log(`мішаний стаж стаж без довідки: ${l}`)),l+=.14*l,console.log(`result: ${l}`),preResult=.197*l,console.log(`pre-result: ${preResult}`),preResult>1500&&(preResult=1500),console.log(`pre-result: ${preResult}`),l=preResult+l):"По втраті годувальника"===pensTypeValue&&("radio-3"===dovidka?(console.log(e),l=dovidkaValue*e,console.log(`годувальник: ${l}`)):"radio-2"===dovidka&&(console.log(e),l=n*e,console.log(`годувальник без довідки: ${l}`)),l+=.14*l,console.log(`result: ${l}`),preResult=.197*l,console.log(`pre-result: ${preResult}`),preResult>1500&&(preResult=1500),console.log(`pre-result: ${preResult}`),l=preResult+l),"2018"!==year&&(console.log(`проверка на добавленние 2к грн(перед добавлением) - ${l}`),l+=2e3,console.log(`проверка на добавленние 2к грн(после добавления) - ${l}`)),console.log(`результат перед возвратом функции - ${l}`),l};let resultat=document.querySelector("#resultBtn"),resultDiv;resultat.addEventListener("click",function(e){e.preventDefault(),zvanieUpdate(),strUpdate(),pensUpdate(),civilUpdate(),warUpdate(),updateNumber(),dovidkaUpdate(),pensTypeUpdate();let $=updatePensValue();invSelection.updateInvPercent(),console.log($),updateLoan(strValue,zvanieValue);let n=calculatePension();n=Math.round(n),(resultDiv=document.querySelector(".result.price")).innerText=`${n} грн`,console.log(`результат пенсії: ${n} грн`)});
